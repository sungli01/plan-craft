# Plan-Craft v2.2 - AI 자율 풀스택 개발 엔진

**Code-First Edition** - 작동하는 코드가 모든 것의 중심입니다.

## 🎯 프로젝트 개요

사용자의 아이디어를 입력받아 **상용화 가능한 수준의 완성된 소프트웨어**를 자동으로 개발하고 배포하는 완전 자율형 AI 풀스택 개발 엔진입니다.

### 핵심 원칙

1. **Code-First**: 문서가 아닌 작동하는 코드를 우선 생성
2. **Strict Quality Gate**: 빌드 100% 성공, 테스트 커버리지 95% 이상 필수
3. **Full Autonomy**: 비개발자도 사용 가능한 완전 자율 시스템

## 🌐 URL

- **Production**: https://plan-craft.pages.dev (준비 중)
- **Sandbox Dev**: https://3000-i5y2r8i7qfa5gukpxw2ov-a402f90a.sandbox.novita.ai
- **API Base**: `/api`
- **GitHub**: (연결 예정)

## ✨ v2.2 최신 기능 (NEW!)

### 📄 스마트 PDF 자동 분할 (신규!)

#### 1. 페이지 수 자동 추정
- ✅ **섹션별 페이지 수 정확 계산**
  - 텍스트 내용 (45줄/페이지 기준)
  - 이미지 (각 1/3 페이지)
  - 코드 블록 (20% 추가 공간)
- ✅ **전체 문서 페이지 수 표시**

#### 2. 50페이지 단위 자동 분할
- ✅ **대용량 문서 자동 분할**
  - 50페이지 초과 시 자동으로 여러 파트로 분할
  - 섹션 단위로 분할 (중간에 잘리지 않음)
  - Part 1 of 3, Part 2 of 3 형식
- ✅ **브라우저 메모리 한계 극복**
- ✅ **빠른 생성 및 다운로드**

#### 3. 멀티 파트 다운로드 UI
- ✅ **개별 파트 다운로드**
  - Part 1, Part 2, Part 3... 버튼
  - 원하는 파트만 선택 가능
- ✅ **전체 다운로드 버튼**
  - 모든 파트를 순차적으로 다운로드
  - 자동으로 500ms 간격 적용
- ✅ **다운로드 진행 상황 실시간 표시**

### 🆕 향상된 참조 문서 UX

#### 1. 드래그 앤 드롭 파일 업로드
- ✅ **파일을 드래그해서 바로 첨부**
  - 이미지 파일 (PNG, JPG, GIF 등)
  - 문서 파일 (PDF, TXT, MD, DOC 등)
  - 코드 파일 (JS, TS, CSS, HTML 등)
- ✅ **다중 파일 선택 지원**
- ✅ **실시간 파일 크기 표시**
- ✅ **파일 타입별 아이콘 구분**
- ✅ **드래그 시 시각적 피드백** (하이라이트 효과)

#### 2. URL 자동 감지 및 추출
- ✅ **아이디어 설명란에 URL 복사-붙여넣기**
  - 텍스트에서 URL 자동 감지
  - 여러 개의 URL 동시 감지
  - 원클릭으로 참조 문서로 추가
- ✅ **실시간 URL 카운트 표시**
- ✅ **도메인 이름 자동 추출**

#### 3. 통합 참조 문서 관리
- ✅ **모든 참조 타입을 하나의 리스트로 통합**
  - URL 참조 (링크 아이콘)
  - 파일 참조 (파일 아이콘)
  - 이미지 참조 (이미지 아이콘)
- ✅ **개별 삭제 버튼**
- ✅ **색상 구분 (Purple/Blue/Pink)**
- ✅ **Hover 효과 및 애니메이션**

### 사용 방법

#### 방법 1: 드래그 앤 드롭
```
1. 프로젝트 생성 폼에서 "파일을 여기에 드래그 앤 드롭" 영역 찾기
2. 파일 탐색기에서 파일 선택
3. 드래그해서 영역에 드롭
4. 자동으로 참조 문서 리스트에 추가됨
```

#### 방법 2: URL 복사-붙여넣기
```
1. 아이디어 설명란에 프로젝트 설명 입력
2. 참조하고 싶은 URL을 복사해서 붙여넣기
   예:
   "온라인 쇼핑몰을 만들고 싶습니다.
   https://stripe.com/docs/api
   https://tailwindcss.com/docs"
3. "N개의 URL이 감지되었습니다" 메시지 확인
4. "참조로 추가" 버튼 클릭
5. 자동으로 참조 문서 리스트에 추가됨
```

#### 방법 3: 파일 선택 버튼
```
1. "파일 선택" 버튼 클릭
2. 파일 탐색기에서 파일 선택 (다중 선택 가능)
3. 자동으로 참조 문서 리스트에 추가됨
```

## ✨ v2.0 기존 기능

### 🆕 Feature 1: 참조 문서/링크 추가
- ✅ 프로젝트 생성 시 참조 URL 첨부 가능
- ✅ 여러 개의 참조 문서 추가 지원
- ✅ 참조 문서 목록 관리

### 🆕 Feature 2: 프로젝트 제어
- ✅ **일시중지(Pause)**: 개발 진행 일시 중단
- ✅ **재개(Resume)**: 일시중지된 프로젝트 계속 진행
- ✅ **취소(Cancel)**: 프로젝트 영구 종료

### 🆕 Feature 3: 프로젝트 업그레이드
- ✅ 완료된 프로젝트에 추가 기능 요청
- ✅ 업그레이드 이력 관리
- ✅ 실시간 업그레이드 진행 상황 확인

### 🆕 Feature 4: 밝은 디자인 테마
- ✅ 그라데이션 배경 (Purple & Pink)
- ✅ Glass-morphism UI 스타일
- ✅ 부드러운 애니메이션 효과
- ✅ 향상된 가독성 및 접근성

### 🆕 Feature 5: PDF 문서 출력
- ✅ 프로젝트 문서 자동 생성
- ✅ AI 이미지 생성 프롬프트
- ✅ 전문적인 PDF 레이아웃

## 📊 v1.0 기존 기능

### Phase 1: Core Implementation ✅
- ✅ Pipeline State Manager
- ✅ Quality Gate Validator
- ✅ Agent Protocol
- ✅ Build Logger

### Phase 2: API Server ✅
- ✅ 22개 REST API 엔드포인트

### Phase 3: Frontend UI ✅
- ✅ DevOps 대시보드 스타일 UI
- ✅ 실시간 파이프라인 뷰어
- ✅ 터미널 콘솔

## 📈 API 엔드포인트 (v2.1)

총 **22개 API 엔드포인트** (변동 없음, UX만 개선)

| Method | Endpoint | Description | Version |
|--------|----------|-------------|---------|
| POST | `/api/projects` | 새 프로젝트 생성 (참조 지원) | v2.0 |
| GET | `/api/projects/:id` | 프로젝트 조회 | v1.0 |
| POST | `/api/projects/:id/pause` | 일시중지 | v2.0 |
| POST | `/api/projects/:id/resume` | 재개 | v2.0 |
| POST | `/api/projects/:id/cancel` | 취소 | v2.0 |
| POST | `/api/projects/:id/references` | 참조 추가 | v2.0 |
| GET | `/api/projects/:id/references` | 참조 목록 | v2.0 |
| POST | `/api/projects/:id/upgrade` | 업그레이드 요청 | v2.0 |
| GET | `/api/projects/:id/upgrades` | 업그레이드 이력 | v2.0 |
| POST | `/api/projects/:id/export/pdf` | PDF 생성 | v2.0 |
| ... | ... | ... | ... |

## 🎨 UX 개선사항 (v2.1)

### Before (v2.0) → After (v2.1)

#### 참조 문서 추가 방식
```
v2.0: URL 입력 필드에 직접 타이핑 → 추가 버튼 클릭
v2.1: 
  ✅ 드래그 앤 드롭으로 파일 바로 첨부
  ✅ 아이디어 란에 URL 붙여넣기 → 자동 감지
  ✅ 파일 선택 버튼 (다중 선택)
```

#### UI 개선
```
v2.0: 수동 입력 + 작은 리스트
v2.1:
  ✅ 큰 드롭존 (시각적 피드백)
  ✅ URL 감지 알림 (실시간)
  ✅ 타입별 아이콘 구분
  ✅ 개선된 리스트 디자인
```

### 새로운 UI 요소

1. **드롭존 영역**
   - 크고 눈에 띄는 업로드 영역
   - 드래그 시 색상 변경
   - 클라우드 업로드 아이콘

2. **URL 감지 알림**
   - 자동 URL 카운트
   - 원클릭 추가 버튼
   - 3초 자동 사라짐 성공 메시지

3. **통합 참조 리스트**
   - 색상별 아이콘 (Link/File/Image)
   - 파일 크기 표시
   - 개별 삭제 버튼

## 🔧 기술적 개선사항 (v2.1)

### 프론트엔드 기능
- ✅ **드래그 앤 드롭 이벤트 핸들링**
  - dragenter, dragover, dragleave, drop
  - 기본 동작 방지
  - 시각적 피드백
  
- ✅ **파일 읽기 (FileReader API)**
  - 텍스트 파일: 내용 읽기
  - 이미지 파일: Base64 인코딩
  - 기타 파일: 메타데이터만 저장

- ✅ **URL 파싱 (정규표현식)**
  - HTTP/HTTPS URL 자동 감지
  - 도메인 추출
  - 중복 제거

### 코드 품질
- ✅ 타입 안전성 유지
- ✅ 에러 처리 개선
- ✅ 사용자 피드백 강화

## 📝 변경 이력

### v2.1 (2026-01-31) - UX 개선
- ✅ 드래그 앤 드롭 파일 업로드
- ✅ 아이디어 란에서 URL 자동 감지
- ✅ 통합 참조 문서 관리
- ✅ 개선된 시각적 피드백
- ✅ 다중 파일 지원
- ✅ 파일 타입별 아이콘
- ✅ 파일 크기 표시

### v2.0 (2026-01-31)
- ✅ Feature 1: 참조 문서/링크 추가
- ✅ Feature 2: 프로젝트 중단/재개/취소
- ✅ Feature 3: 프로젝트 업그레이드
- ✅ Feature 4: 밝은 디자인 테마
- ✅ Feature 5: PDF 문서 출력
- ✅ API 엔드포인트 12개 → 22개

### v1.0 (2026-01-31)
- ✅ G1-G10 개발 파이프라인 구현
- ✅ 12개 REST API 엔드포인트
- ✅ DevOps 대시보드 UI
- ✅ 98.63% 테스트 커버리지

## 🎓 Code-First 원칙 준수

✅ **모든 산출물의 핵심은 '작동하는 코드'**
- 문서는 코드 완성 후 자동 생성됨
- 기획서 없이 즉시 코드 작성 시작

✅ **Strict Quality Gate 통과**
- 빌드 오류 → 즉시 REJECT 및 자동 수정
- 테스트 커버리지 95% 미만 → REJECT
- 보안 이슈 → REJECT

✅ **완전 자율성 달성**
- 사용자는 아이디어만 입력
- AI가 모든 기술 결정 자동 수행
- 비개발자도 사용 가능

---

## 🚀 즉시 사용 가능

**지금 바로 Plan-Craft v2.1을 사용해보세요:**

1. **웹 브라우저 접속**: https://3000-i5y2r8i7qfa5gukpxw2ov-a402f90a.sandbox.novita.ai

2. **프로젝트 생성** (향상된 UX):
   - 프로젝트 이름: "AI 블로그 플랫폼"
   - 아이디어: "마크다운 지원 블로그
                 https://stripe.com/docs
                 https://api.github.com"
   - 파일: 디자인 이미지를 드래그 앤 드롭

3. **자동 참조 감지**: URL이 자동으로 감지되고 추가됨

4. **자동 개발 시작**: AI가 코드 생성, 테스트, 배포

---

**[Tech Lead] Plan-Craft v2.1 UX 개선 완료 - 드래그 앤 드롭 + URL 자동 감지 구현 완료. 🎉**
